<html>
<head>
<title>Parallel Performance of Skyline Solver on Soft Cores (3)</title>
<base href="http://www.equation.com/">
<style type="text/css"> body {background-color:#d0d0d0;} </style>
<meta http-equiv="content-type" content="text/html">
<meta http-equiv="charset" content="ISO-8859-1">
<meta name="description" content="This post compares a performance between passing-message and sharing-memory for task communications">
<meta name="keywords" content="neuLoop, fortran, soft core computing, multicore, skyline solver, co-array">
<meta name="robots" content="index, follow">
<link rel="shortcut icon" href="http://www.equation.com/favicon.ico">
</head>
<body style="background:#ffffff" link=#003f7f alink=#ff0000 vlink=#003f7f>
<table style="font-family:arial,sans-serif,serif,cursive,fantasy,Roman; border-width:0px; padding:0px; width=769px;" align=center cellspacing=0 cellpadding=0>
<tr>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; width:2px;" rowspan=11>
<span style="color:#000000; font-size:12px;">
</span>
</td>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; height:2px;" colspan=5>
<span style="color:#000000; font-size:12px;">
</span>
</td>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; width:2px;" rowspan=11>
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
<tr>
<td style="background:#ffffff; vertical-align:top; text-align:left; width:17px;" rowspan=9>
<span style="color:#000000; font-size:12px;">
</span>
</td>
<td style="background:#ffffff; vertical-align:top; text-align:left; height:15px;" colspan=3>
<span style="color:#000000; font-size:12px;">
</span>
</td>
<td style="background:#ffffff; vertical-align:top; text-align:left; width:18px;" rowspan=9>
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
<tr>
<td style="background:#ffffff; vertical-align:bottom; text-align:left; height:80px;" colspan=3>
<span style="color:#000000; font-size:16px;">
<table style="background-color:#a0a0a0;width:730px; height:80px; border-width:1px; border-spacing:0px"><tr> <td style="height:1px; padding:0px; " colspan=4></td></tr><tr> <td style="width:6px; padding:0px;"> </td><td style="width:215px; padding:0px; text-align:center; vertical-align:bottom; font-size:24px; font-family:sans-serif; color: #000000;">Equation Solution</td><td style="padding:0px; background-color:#FFFFFF; text-align:center;">
<br>
 <div>
 <form method=post action=http://www.equation.com/servlet/equation.cmd?form=search>
<span style="font-size:14px">
 Search the Web
 &nbsp;
</span>
 <input type="text" name="ss" size="48" maxlength="60">
 <input type="hidden" name="pmenu" value="Home">
<br>
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 <input type="submit" name="se_b" value="Bing">
 &nbsp;
 &nbsp;
 <input type="submit" name="se_g" value="Google">
 &nbsp;
 &nbsp;
 <input type="submit" value="Random">
 </form>
 </div>
</td> <td style="width:1px; padding:0px;"></td></tr><tr> <td style="height:1px; padding:0px;" colspan=4></td> </tr> </table>
</span>
</td>
</tr>
<tr>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; height:1px;" colspan=3>
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
<tr>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; height:94px;" colspan=3>
<span style="color:#000000; font-size:12px;">
<div style="text-align:center">
 <script type="text/javascript"> 
 <!-- 
 microsoft_adunitid="8178"; 
 microsoft_adunit_width="728"; 
 microsoft_adunit_height="90"; 
 microsoft_adunit_legacy="false"; 
 //--> 
 </script> 
 <script type="text/javascript" src="http://adsyndication.msn.com/delivery/getads.js" ></script>
</div>
</span>
</td>
</tr>
<tr>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; height:1px;" colspan=3>
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
<tr>
<td style="background:#ffffff; vertical-align:top; text-align:left; width:160px;">
<span style="color:#000000; font-size:12px;">
<table style="width:100%; border-color:#a0a0a0; background-color:#a0a0a0; text-align:left; border-width:0px;  border-style:solid; border-spacing:0px;"> <tr> <td style="vertical-align:top; background-color:#a0a0a0; height:20px; font-family:sans-serif; font-size:12px; color:#000000; text-align:center;">Navigation Tree &#160; </td> </tr> <tr> <td style="padding:1px;"> <table style="width:100%; background-color:#FFFFFF; text-align:left; border-width:0px; border-spacing:0px;"> <tr><td style="vertical-align:top; padding:5px;">
<span style="font-size:11px">
<span style="white-space: nowrap">
<span style="color: #a35100;background-color: #ffff00">
 Home
</span>
<br>
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=programminglog">Programming Tools</a>
<br>
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=parallelcomputinglog">Parallel Computing</a>
<br>
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=blogcontent&blogpage=1">Blog</a>
<br>
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=insitulog">In-Situ Evaluation</a>
<br>
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=numericalanalysislog">Numerical Analysis</a>
<br>
 '-
 -
 Structural Mechanics
<br>
 |
 &nbsp;
 &nbsp;
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=ifas">IFAS</a>
<br>
 |
 &nbsp;
 &nbsp;
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=mCable">mCable</a>
<br>
 '-
 -
 Write Us
<br>
 |
 &nbsp;
 &nbsp;
 '-
 -
 <a href="mailto:feedback@equation.com">Feedback</a>
 &nbsp;
<br>
 |
 &nbsp;
 &nbsp;
 '-
 -
 <a href="mailto:info@equation.com">Info</a>
 &nbsp;
<br>
 |
 &nbsp;
 &nbsp;
 '-
 -
 <a href="mailto:support@equation.com">Support</a>
 &nbsp;
<br>
 |
 &nbsp;
 &nbsp;
 '-
 -
 <a href="mailto:webmaster@equation.com">Webmaster</a>
 &nbsp;
<br>
 '-
 -
 <a href="http://www.equation.com/servlet/equation.cmd?fa=privacypolicy">Privacy Policy</a>
<br>
</span>
</span>
</td></tr></table></td></tr></table>
</span>
</td>
<td style="background:#ffffff; vertical-align:top; text-align:left; width:20px;" rowspan=3>
<span style="color:#000000; font-size:12px;">
</span>
</td>
<td style="background:#ffffff; vertical-align:top; text-align:left; width:550px;" rowspan=3>
<span style="color:#000000; font-size:12px;">
<br>
<br>
<div style="text-align:left">
<span style="font-size:22px">
 Parallel Performance of Skyline Solver<br>on Soft Cores (3)
</span>
</div>
<br>
<br>
 <font color="#7f7f7f">[Posted by </font>
 <a href="http://www.equation.com/servlet/equation.cmd?fa=luo&lr=null" style="color:#808080">Jenn-Ching Luo</a>
 <font color="#7f7f7f">on Apr. 22, 2012 ] </font>
<br>
<br>
<div style="text-align:justify;margin-right:3px;line-height:2;">
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Co-array</span> is a FORTRAN standard, in which cooperative tasks (e.g., images) communicate with each other by passing messages. Message-passing is different from memory-sharing, e.g., OpenMP, which allows cooperative tasks to directly access common data.
<br>
<br>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some</span> people claimed co-array, which is based on passing messages, is more efficient than OpenMP that is implemented in a memory-sharing environment. One of their concerns is memory-sharing environment requires an extra cost for maintaining cache coherence. However, we haven't seen an actual comparison to support such claim. We don't know if co-array is more efficient than OpenMP.
<br>
<br>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As</span> introduced before, <i>neuLoop</i> has two types of soft core, homogeneous core which is based on memory-sharing communication and heterogeneous core which is based on message-passing communication. This post does not directly compare co-array with OpenMP, but uses the laipe2 function <i>laipe2$decompose_vsp_8</i> to show different performance between message-passing and memory-sharing communications.
<br>
<br>
<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It</span> is easy for us to compare performances on message-passing and memory-sharing communications. First, we run the example by linking against homogeneous cores to get timing results, and then run the program again with heterogeneous cores. Timing results are as:
<br>
<span style="line-height:1.25;">
<pre>
 [With Homogeneous Cores by Direct Memory Access, e.g., memory-sharing]
 number of cores    elapsed time (sec.)    speedup    efficiency (%)
 -------------------------------------------------------------------
        1                 242.93             1.00        100.00
        2                 121.82             1.99         99.71
        3                  81.48             2.98         99.38
        4                  61.49             3.95         98.77
        5                  49.61             4.90         97.94
        6                  41.72             5.82         97.05
        7                  36.05             6.74         96.27
        8                  31.84             7.63         95.37
</pre>
</span>
<span style="line-height:1.25;">
<pre>
 [With Heterogeneous Cores by Passing Message, e.g., message-passing]
 number of cores    elapsed time (sec.)    speedup    efficiency (%)
 -------------------------------------------------------------------
        1                 248.91             1.00        100.00
        2                 125.02             1.99         99.55
        3                  83.77             2.97         99.05
        4                  63.32             3.93         98.27
        5                  51.11             4.87         97.40
        6                  43.06             5.78         96.34
        7                  37.38             6.66         95.13
        8                  33.31             7.47         93.41
</pre>
</span>
 From the above data, we can see directly accessing memory run faster than message-passing. It could be realized that, in memory-sharing environment, cooperative tasks can directly access common data. Passing message, which duplicates data, becomes an extra burden in memory-sharing environment, which definitely takes extra costs. Whether co-array is more efficient than OpenMP is unclear. In this writer's experience, if additional cost to maintain cache coherence is not significant, direct memory-access does not degrade parallel performance.
</div>
 <script type="text/javascript">
 <!--
 microsoft_adunitid="24734";
 microsoft_adunit_width="468";
 microsoft_adunit_height="60";
 microsoft_adunit_legacy="false";
 //-->
 </script>
 <script type="text/javascript" src="http://adsyndication.msn.com/delivery/getads.js" ></script>
</span>
</td>
</tr>
<tr>
<td style="background:#ffffff; vertical-align:top; text-align:left; height:1px; width:160px;">
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
<tr>
<td style="background:#ffffff; vertical-align:bottom; text-align:center; width:160px;">
<span style="color:#000000; font-size:12px;">
 <script type="text/javascript"> 
 <!-- 
 microsoft_adunitid="9448"; 
 microsoft_adunit_width="160"; 
 microsoft_adunit_height="600"; 
 microsoft_adunit_legacy="false"; 
 //--> 
 </script> 
 <script type="text/javascript" src="http://adsyndication.msn.com/delivery/getads.js" ></script>
</span>
</td>
</tr>
<tr>
<td style="background:#ffffff; vertical-align:top; text-align:left; height:90px;" colspan=3>
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
<tr>
<td style="background:#a0a0a0; vertical-align:top; text-align:left; height:2px;" colspan=5>
<span style="color:#000000; font-size:12px;">
</span>
</td>
</tr>
</table>
</body>
</html>
