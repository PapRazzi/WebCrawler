<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
______  _______               ______                _____        
___  / / /___(_)___   _______ ___  /______ _______ ____(_)_______
__  /_/ / __  / __ | / /_  _ \__  / _  __ \__  __ `/__  / _  ___/
_  __  /  _  /  __ |/ / /  __/_  /  / /_/ /_  /_/ / _  /  / /__  
/_/ /_/   /_/   _____/  \___/ /_/   \____/ _\__, /  /_/   \___/  
                                           /____/                
-->

<head>
	<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
	<title>Installing Ruby, RubyGems, and Rails on Snow Leopard</title>                                        
	<meta name="description" content="Hivelogic is tech, code, design, and geekery, written by your Internet Pal, Dan Benjamin." />
	<meta name="keywords" content="hivelogic, dan, benjamin, hivelogic, danbenjamin" />
	<meta name="author" content="Dan Benjamin" />
	<meta name="copyright" content="Copyright (c) 2000-2011 Dan Benjamin" />
	<link rel="alternate" type="application/rss+xml" title="Hivelogic RSS Feed" href="http://feeds.feedburner.com/hivelogic" />
	<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
	<link href="/stylesheets/styles.css" media="screen" rel="stylesheet" type="text/css" media="screen, projection" />
	<script type="text/javascript" src="http://use.typekit.com/zrq6xaf.js"></script>
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>

<body>
	
<div id="header" class="box">
	<a href="/" title="Hivelogic"><img src="/images/hivelogic.png" height="60" width="395" alt="Hivelogic"/></a>
</div>

<div id="main" class="box">

	<div id="content">

<div class="article" id="/articles/compiling-ruby-rubygems-and-rails-on-snow-leopard">
  <h2>Installing Ruby, RubyGems, and Rails on Snow Leopard</h2>
  <p class="byline">Monday, 31 August 2009 &bull; <a href="/articles/compiling-ruby-rubygems-and-rails-on-snow-leopard" title="Permanent link for this article">Permalink</a></p>
  <p>These are instructions for compiling and installing 64-bit Ruby, Rubygems, and Ruby on Rails on Mac OS X 10.6, Snow Leopard.</p>
<p>The benefits of manually building a copy of Ruby in <code>/usr/local</code> are detailed <a href="http://hivelogic.com/articles/using_usr_local/">here</a> and <a href="http://hivelogic.com/articles/ruby-rails-leopard/">here</a>.</p>
<h3>Prerequisites</h3>
<p>Before following these instructions, you will need:</p>
<ol>
	<li>Mac OS X 10.6 Snow Leopard</li>
	<li>The latest Xcode Tools (from the Snow Leopard <span class="caps">DVD</span> or downloaded from <a href="http://developer.apple.com">Apple</a> &mdash; the 10.5 version <em>won&#8217;t work</em>)</li>
	<li>Confidence running <span class="caps">UNIX</span> commands using the Terminal</li>
</ol>
<p>If you want to learn more about <span class="caps">UNIX</span> and the command line, check out <a href="http://peepcode.com/products/meet-the-command-line">my PeepCode screencast</a> on this topic.</p>
<h3>Step 1: Set the <span class="caps">PATH</span></h3>
<p>Launch Terminal.app from the <code>/Applications/Utilities</code> folder.</p>
<p>The first thing we&#8217;ll do is set your shell&#8217;s <span class="caps">PATH</span> variable.  The <span class="caps">PATH</span> variable determines where your system searches for command-line programs. You&#8217;ll need to set it so that it can find the new apps you&#8217;re about to install.  Using the editor of your choice, create and edit a file in your home directory named <code>.profile</code> (note the &#8220;.&#8221; preceding the filename).</p>
<p>If you&#8217;re using <a href="http://macromates.com">TextMate</a> like you should be and have <a href="http://manual.macromates.com/en/using_textmate_from_terminal.html">installed the <span class="caps">UNIX</span> <code>mate</code> command</a>, then you can create and start editing the file like this:</p>
<pre>mate ~/.profile</pre>
<p>To the end of this file, add the following line:</p>
<pre>export PATH="/usr/local/bin:/usr/local/sbin:/usr/local/mysql/bin:$PATH"</pre>
<p>Close and save the file and run this command to load the new setting into your current shell:</p>
<pre>source ~/.profile</pre>
<p>To verify that you&#8217;ve updated your path, enter the following command:</p>
<pre>echo $PATH</pre>
<p>You should see <code>/usr/local/bin</code> at the beginning of the line returned by the system.</p>
<h3>Step 2: Download</h3>
<p>We&#8217;re going to create a folder to contain the files we&#8217;re about to download and compile. If you want, you can delete this folder when you&#8217;re done, but keeping it around makes it easier to re-install (or uninstall) these apps later.</p>
<p>Make the new folder:</p>
<pre>mkdir ~/src
cd ~/src</pre>
<p>Download Ruby and Rubygems:</p>
<pre>curl -O ftp://ftp.ruby-lang.org/pub/ruby/1.8/ruby-1.8.7-p174.tar.gz
curl -O http://files.rubyforge.vm.bytemark.co.uk/rubygems/rubygems-1.3.5.tgz</pre>
<h3>Step 3: Compile and Install</h3>
<p>First, Ruby:</p>
<pre>tar xzvf ruby-1.8.7-p174.tar.gz
cd ruby-1.8.7-p174
./configure --enable-shared --enable-pthread CFLAGS=-D_XOPEN_SOURCE=1
make
sudo make install
cd ..</pre>
<p>To verify that Ruby is installed and in your path, just type:</p>
<pre>which ruby</pre>
<p>You should see:</p>
<pre>/usr/local/bin/ruby</pre>
<p>If you do, this means you now have a super-fast, 64-bit version of Ruby ready to go. If you saw something different, you haven&#8217;t set your path correctly. Go back and try again.</p>
<p>Compile and install RubyGems:</p>
<pre>tar xzvf rubygems-1.3.5.tgz
cd rubygems-1.3.5
sudo /usr/local/bin/ruby setup.rb
cd ..</pre>
<p>Install Rails:</p>
<pre>sudo gem install rails</pre>
<p>If you use MySQL, you can now install the MySQL gem. You&#8217;ll need to know the location of your MySQL installation, which is typically <code>/usr/local/mysql</code>. Install the gem like this:</p>
<pre>sudo gem install mysql -- --with-mysql-dir=/usr/local/mysql</pre>
<p>Congratulations, you now have a custom-built Ruby, RubyGems, and Rails configuration.</p>
</div>

<h4 class="more">
  <a href="/archive" title="Archive of articles written since 2000">More articles in the Archive &rarr;</a>
</h4>

</div>

<div id="sidebar">


	<div id="nav">
		<ul>
			<li><a href="/">Home</a></li>
			<li><a href="/archive">Archive</a></li>
			<li><a href="/contact">Contact</a></li>
			<li><a href="/about">About</a></li>
		  	<li><a href="/enkoder">Enkoder</a></li>
			<li><a href="http://feeds.feedburner.com/hivelogic">RSS</a></li>
			<li><a href="http://twitter.com/danbenjamin">Twitter</a></li>
			<li><a href="https://plus.google.com/115054901319079500672/posts" title="Dan Benjamin on Google+">Google+</a></li>
		</ul>
	</div>

	<p class="mini-text">
		<a href="http://decknetwork.net/">Ads via The Deck</a>
	</p>
	<div id="the-deck">
		<script type="text/javascript">
		//<![CDATA[
		(function(id) {
		 document.write('<script type="text/javascript" src="' +
		   'http://connect.decknetwork.net/deck' + id + '_js.php?' +
		   (new Date().getTime()) + '"></' + 'script>');
		})("HL");
		//]]>
		</script>
	</div>

  <script type="text/javascript" src="http://www.authenticjobs.com/js/jobs-json-r.js"></script>
  <script type="text/javascript">
    window.onload = function() {
			str = ''
      for (var i=0; i<1; i++) {
        str += "<p>" + jobs.jobs[i].Company + " needs a <a href=\"" + jobs.jobs[i].URL + "\"> " + jobs.jobs[i].Title + "</a> in " + jobs.jobs[i].Location + "</p>";
      }        
	    document.getElementById("jobs").innerHTML = str;        
    }
  </script>

	<p class="mini-text"><a href="http://www.authenticjobs.com">Find a Job</a></p>
	<div id="authentic-jobs">
		<a href="http://www.authenticjobs.com"><img src="/images/aj-hiring.png" id="authentic-sign" height="48" width="70" /></a>
		<div id="jobs"></div>
	</div>

</div>


<div id="footer">
	<p>Tech, code, design, and geekery. Copyright &copy; 2000-2012 by <a href="http://danbenjamin.com" title="Dan Benjamin">Dan Benjamin</a>. All Rights Reserved. Hosted by <a href="http://joyent.com" title="Joyent">Joyent</a>.</p>
</div>

<!-- google analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6586200-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- end google analytics -->


</body>
</html>

