<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>GFortranUsage - GCC Wiki</title>
<script type="text/javascript" src="/moin_static187/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static187/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static187/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static187/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static187/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static187/modern/css/msie.css">
<![endif]-->





<link rel="Start" href="/wiki/HomePage">
<link rel="Alternate" title="Wiki Markup" href="/wiki/GFortranUsage?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/wiki/GFortranUsage?action=print">
<link rel="Search" href="/wiki/FindPage">
<link rel="Index" href="/wiki/TitleIndex">
<link rel="Glossary" href="/wiki/WordIndex">
<link rel="Help" href="/wiki/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">
<div id="logo"><a href="/wiki/HomePage">GCC Wiki</a></div>

<form id="searchform" method="get" action="/wiki/GFortranUsage">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="/wiki/GFortranUsage?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="/wiki/HomePage" rel="nofollow">Self</a></span></div>

<ul id="pagelocation">
<li><a class="backlink" href="/wiki/GFortranUsage?action=fullsearch&amp;context=180&amp;value=linkto%3A%22GFortranUsage%22" rel="nofollow" title="Click to do a full-text search for this title">GFortranUsage</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="/wiki/HomePage">HomePage</a></li><li class="wikilink"><a href="/wiki/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="/wiki/FindPage">FindPage</a></li><li class="wikilink"><a href="/wiki/HelpContents">HelpContents</a></li><li class="current"><a href="/wiki/GFortranUsage">GFortranUsage</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/wiki/GFortranUsage?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/wiki/GFortranUsage?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/wiki/GFortranUsage">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="show" disabled class="disabled">Package Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="GNU_Fortran:_Using_the_compiler">GNU Fortran: Using the compiler</h1>
<span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line862">This page is meant to give a quick overview on how to use GNU Fortran. It is not a substitute for a <a href="/wiki/GFortran#manuals">complete manual</a>, but it should get you going. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line874">GNU Fortran builds on GCC, and thus shares most characteristics with it. If you know how to use GCC, there will not be much new information for you in this document. Especially, the options for optimization and the generation of debugging information are not outlined here. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line862">Don't forget to read the wiki page about <a href="/wiki/GfortranFAQ">frequently encountered trouble</a> with GNU Fortran, too! <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line867">
<h2 id="Basic_Usage">Basic Usage</h2>
<span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line862">GNU Fortran is used to compile a source file, <tt>source.f90</tt>  to an object file, <tt>object.o</tt>  or an executable, <tt>executable</tt>  Along the way it generates module description files for the modules it encounters.  These files are named <tt>nameofmodule.mod</tt>  If a module is used, gfortran will read from these same files. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line862">In order to compile the source file <tt>source.f90</tt>  one would run: <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line867"><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><pre>gfortran -c source.f90</pre><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line862">The output file will automatically be named <tt>source.o</tt>  This is an object file, which cannot be executed. <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line874">Once you have compiled some source files, you can link them together with the necessary libraries to generate an executable. This is done as follows: <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line867"><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><pre>gfortran -o executable object1.o object2.o ...</pre><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line862">where the the executable will be named executable and the <tt>objectN.o</tt> are object files, which may have been created as above, or equally well by another compiler from sources in a different language. <span class="anchor" id="line-28"></span>If  <tt>-o&nbsp;executable</tt>  is omitted, the executable will be named <tt>a.out</tt> (on cygwin systems: <tt>a.exe</tt> . The executable may then be executed like any other program. <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line874">One may also skip the separate compilation step, and enter a command such as: <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line867"><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><pre>gfortran -o executable source1.f90 source2.f90</pre><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line874">which will compile the source files source1.f90 and source2.f90, link and generate the executable executable in one step. You can also put object files on this command line, they will be automatically linked in during the link step. <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867">
<h2 id="Controlling_the_input_source_form">Controlling the input source form</h2>
<span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line874">Since Fortran 95 allows for two different kinds of input source forms (free form source code and fixed form source code) the compiler has to know which kind of input it is given. The rule in place is as follows: <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><ol type="1"><li><p class="line862">Files whose name ends in <tt>.f</tt> or <tt>.for</tt> are assumed to be fixed form <span class="anchor" id="line-44"></span></li><li><p class="line862">Files whose name end in <tt>.f90</tt> or <tt>.f95</tt> are assumed to to be free form <span class="anchor" id="line-45"></span></li><li>For other files the source form has to be explicitly given. This may be done by the command line options described below, which may also be used to override the first two rules. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></li></ol><p class="line862">When GNU Fortran is run on a file whose name ends in <tt>.f90</tt> or <tt>.f95</tt>, it assumes a free form source file. If that file actually is a fixed form source file, the user has to give the <tt>-ffixed-form</tt> command line option. The precise semantics of this option, and other options relating to fixed form versus free form input are the same as in g77, and may be found in g77's documentation. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line862">When running <tt class="backtick">gfortran</tt> one actually does not run the compiler, but the compiler driver. This driver interprets the command line options given, and hands the work off to the actual compiler, the assembler, and the linker. By default, this compiler driver decides by the extensions of the given file names what to do. A file named <tt>foo.c</tt> is handed to the C compiler and a file named <tt>foo.f90</tt> is handed to the Fortran 95 compiler, etc. To overrule this behavior, one has to precede the filename by the argument <tt>-x&nbsp;lang</tt>  where lang is a string identifying the requested language. For Fortran 95 this is <tt>f95</tt>  <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line867">
<h2 id="Compatibility_with_g77">Compatibility with g77</h2>
<span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line874">In order to efficiently implement the passing of array sections, binary compatibility to Fortran 77 had to be abandoned.  You should not mix object files produced by g77 and gfortran, because this will not result in a working executable. <span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line867">
<h2 id="Running_GNU_Fortran_as_a_syntax_checking_tool">Running GNU Fortran as a syntax checking tool</h2>
<span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line862">One may use GNU Fortran as a syntax checker (or verify that GNU Fortran's frontend correctly accepts or rejects a program), by specifying <tt>-fsyntax-only</tt> on the command line. Gfortran will then not generate object files. <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line862">When given the command line option <tt>-fdump-parse-tree</tt>  gfortran will print a representation of the parsed program, detailing both the data objects and the executable statements of the program in a Lisp-inspired notation. One remark for Fortran old timers: <tt>ASSIGN</tt> in these dumps does not refer to the <tt>ASSIGN</tt> statement, but to the operation of assignment, i.e. sloppily speaking, the = operator. <span class="anchor" id="line-61"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">None: GFortranUsage  (last edited 2010-11-25 12:42:40 by <span title="Thomas Schwinge @ p57B4527D.dip.t-dialin.net[87.180.82.125]"><a href="/wiki/tschwinge" title="Thomas Schwinge @ p57B4527D.dip.t-dialin.net[87.180.82.125]">tschwinge</a></span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/wiki/GFortranUsage?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/wiki/GFortranUsage?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/wiki/GFortranUsage">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="show" disabled class="disabled">Package Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

